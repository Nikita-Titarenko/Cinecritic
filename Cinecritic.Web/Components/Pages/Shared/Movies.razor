@using Cinecritic.Web.ViewModels.Movies
@for (int i = 0; i < MovieList.Movies.Count; i += 4)
{
	<div class="row">
		@for (int j = 0; j < ColumnCount && i + j < MovieList.Movies.Count; j++)
		{
			var index = i + j;
			<NavLink class="col-3 mx-auto d-flex flex-column justify-content-between align-items-center" href="@($"/user/movie/{Uri.EscapeDataString(MovieList.Movies[index].Id.ToString())}-{Uri.EscapeDataString(MovieList.Movies[index].Title)}")">
				<img class="rounded-3 my-auto" src="@MovieList.Movies[index].ImagePath" width="200" />
				<div class="d-flex flex-column pt-2">
					<h4>@($"{MovieList.Movies[index].Title}")</h4>
					@if (MovieList.Movies[index].ReleaseDate != null)
					{
						<h4>@($"({MovieList.Movies[index].ReleaseDate})")</h4>
					}
				</div>
			</NavLink>
		}
	</div>
}

@code {
	private const int ColumnCount = 4;
	[Parameter]
	public MovieListViewModel MovieList { get; set; } = new MovieListViewModel();
}